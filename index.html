<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>ロードラツール</title>

    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="css/theme.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body role="document">

    <!-- navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">"Road to Dragon" tools</a>
        </div>
      </div>
    </nav><!-- //navbar -->



    <!-- main -->
    <div class="container" role="main">

<div id="myModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">使い方</h4>
            </div>
            <div class="modal-body">
<ol>
<li>緑の項目に入力すると、不足経験値が表示されます</li>
<li>「経験値を直接入力」にチェックを入れれば、手入力もできます</li>
<li>大成功の場合は値を1.5で割ってるだけです</li>
</ol>

            </div>
        </div>
    </div>
</div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">最大レベルまでの不足経験値  <span class="glyphicon glyphicon-question-sign" aria-hidden="true" data-toggle="modal" data-target="#myModal"></span></h3>
  

        </div>
        <div class="panel-body">
          <form role="form">
            <div class="form-group row">
              <div class="col-xs-7">
                <select class="form-control expsel" name="expunit" id="expunit">
                <option>ユニット系統</option>
                <option value="0">主人公（No.01～12）</option>
                <option value="1">洋名1（No.13～52）</option>
                <option value="2">洋名2（No.53～92）</option>
                <option value="3">和名（No.93～132）</option>
                <option value="4">勇者/英雄/銃士/賢者</option>
                <option value="5">亡霊</option>
                <option value="6">遺跡/孤高/海竜/帝国</option>
                <option value="7">ひらがな亜人</option>
                <option value="8">王</option>
                <option value="9">神王将</option>
                </select>
              </div>
              <div class="col-xs-5">
                <select class="form-control expsel" name="exprarity" id="exprarity">
                <option>レア度</option>
                <option value="0">★3</option>
                <option value="1">★4</option>
                <option value="2">★5</option>
                <option value="3">★6</option>
                </select>
              </div>
              <div class="col-xs-12">
                <div class="checkbox">
                  <label>
                    <input type="checkbox" id="chkinput"> 経験値を直接入力
                  </label>
                </div>
                <input type="tel" class="form-control expcalc" name="expneed" id="expneed" placeholder="必要経験値" readonly>
              </div>
            </div>
            <div class="form-group">
              <input type="tel" class="form-control expcalc" name="expcurrent" id="expcurrent" placeholder="現在の経験値を入力">
            </div>
            <div class="form-group">
              <p class="text-center"><span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span></p>
            </div>
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-addon">不足経験値</div>
                    <input type="text" class="form-control" name="expresult" id="expresult" readonly>
                </div>
              </div>
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-addon">大成功だと</div>
                    <input type="text" class="form-control" name="expresultsp" id="expresultsp" readonly>
                </div>
              </div>
          </form>
        </div>
      </div><!-- //panel -->

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">よりしろ経験値メモ</h3>
        </div>
        <div class="panel-body">
          <table class="table table-striped">
            <tbody>
              <tr>
                <th>色より</th>
                <td>5,000</td>
              </tr>
              <tr>
                <th>空より</th>
                <td>10,000</td>
              </tr>
              <tr>
                <th>上より</th>
                <td>30,000</td>
              </tr>
              <tr>
                <th>悪より　（x1.5）</th>
                <td>20,000</td>
              </tr>
              <tr>
                <th>超悪より（x3）</th>
                <td>20,000</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="panel panel-warning">
        <div class="panel-heading">
          <h3 class="panel-title">進化用ユニット経験値</h3>
        </div>
        <div class="panel-body">
          <h4>［攻略王］リーシャ<small>木曜日イベドロップ</small></h4>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>レベル</th>
                <th>進化pt</th>
                <th>経験値</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Lv.23</td>
                <td>205pt</td>
                <td>143,000</td>
              </tr>
              <tr>
                <td>Lv.30</td>
                <td>255pt</td>
                <td>295,000</td>
              </tr>
              <tr>
                <td>Lv.37</td>
                <td>304pt</td>
                <td>548,000</td>
              </tr>
            </tbody>
          </table>
          <h4>遺跡ユニット</h4>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>レベル</th>
                <th>進化pt</th>
                <th>経験値</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Lv.23</td>
                <td>205pt</td>
                <td>120,000</td>
              </tr>
              <tr>
            </tbody>
          </table>
        </div>
      </div>


      <div class="panel panel-info">
        <div class="panel-heading">
          <h3 class="panel-title">参考リンク</h3>
        </div>
        <div class="panel-body">
          <ul>
            <li><a href="http://rtd.rtwiki.net/index.php?%BE%AE%A5%CD%A5%BF#d620b848" target="_blank">ユニットの系統による最大経験値・進化ptなど</a></li>
          </ul>
        </div>
      </div>

    </div><!-- //main -->

    <!-- footer -->
    <footer class="footer">
      <p class="pull-right">Author:<a href="https://twitter.com/nanatasu/" rel="author">@nanatasu</a></p>
      <p>Ver5.0.0</p>
    </footer>

    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

    <!-- ↓自分用 -->
    <script type="text/javascript">
    jQuery(function($){

    //Unit種類別の最大経験値（★3,★4,★5,★6）
    var unitExpArray = [
      [17391, 445671, 2567061, 4465125], // 主人公（No.01～12）
      ["-", 1442792, "-", "-"],          // 洋名1（No.13～52）
      [163320, 2753885, "-", "-"],       // 洋名2（No.53～92）
      [175883, 521469, 2901759, "-"],    // 和名（No.93～132）
      ["-", 458404, 4241033, 4210617],   // 勇者/英雄/銃士/賢者
      ["-", "-", "-", "-"],              // 亡霊
      [138194, 815118, 4464247, "-"],    // 遺跡/孤高/海竜/帝国
      ["-", "-", 7919930, "-"],          // ひらがな亜人
      ["-", "-", 1253087, 4465126],      // 王
      ["-", 148226, 3114574, 2404298],   // 神王将
    ];

    //チェックボックスの処理
    $('#chkinput').on('change',function(){
       var chk = $(this).prop('checked');
       obj = $('#expneed');
       obj2 = $('.expsel');
       (chk) ? obj.prop('readonly',false).val("") : obj.prop('readonly',true) ;
       (chk) ? obj2.prop('disabled',true) : obj2.prop('disabled',false) ;
    });

    //プルダウン選択時の処理
    $(".expsel").change(function(){
      var expUnit = $("#expunit").val();
      var expRarity = $("#exprarity").val();
      $("#expneed").val("");
        var expResult = unitExpArray[expUnit][expRarity];
      $("#expneed").val(expResult).trigger('change');
    });

    //経験値エリア変更時の処理
    $(".expcalc").change(function(){

    var expNeed = $("#expneed").val();
    var expCurrent = $("#expcurrent").val();

    //表示初期化
    $("#expresult").val("");
    $("#expresultsp").val("");

    //expCurrentを数値に変換
    expCurrent = parseInt(expCurrent, 10);
    expNeed = parseInt(expNeed, 10);

    var chk = $.isNumeric(expCurrent);
    var chk2 = $.isNumeric(expNeed);
    if (chk && chk2){
      $("#expresult").val(expNeed - expCurrent);
      $("#expresultsp").val(Math.ceil((expNeed - expCurrent)/1.5));
    };
    });
    });
    </script>
    <!-- ↑自分用 -->
  </body>
</html>
